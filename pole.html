<!DOCTYPE html>
<html>
<head>
	<title>Битва магов</title>
	<meta charset="utf-8"/>
	<link rel="stylesheet" type="text/css" href="sys/css/style.css">
	<link rel="stylesheet" href="sys/css/normalize.css">
	<link rel="stylesheet" href="sys/css/skeleton.css">
	<script type="text/javascript" src='sys/js/vue.js'></script>
</head>
<body>
	<div id='pole'></div>
	<br>
	<button class='button-primary' onclick='new Mage("team","name",maxX-1,maxY-1);getId("hid").style.display="block";'>Создать блок</button>
	<button onclick='new Wall(maxX-1,maxY);getId("hid").style.display="block";'>Создать стену</button>
	<button onclick='if(vm.nowMainSelect) m(5);else alert("создайте блок");'>запустить мага по траектории с параметром 5</button>
	<button onclick='genWalls()'>Создать границы</button>
	<div id='hid' style='display: none'>
		<div class='row'>
			<button onclick='vm.nowMainSelect.move({x:-1,y:1})'>\</button>
			<button onclick='vm.nowMainSelect.move({y:1})'>/\</button>
			<button onclick='vm.nowMainSelect.move({x:1,y:1})'>/-</button>
		</div>
		<br>
		<div class='row'>
			<button onclick='vm.nowMainSelect.move({x:-1})'><-</button>
			<button onclick='vm.nowMainSelect.move({})'>SKIP</button>
			<button onclick='vm.nowMainSelect.move({x:1})'>-></button>
		</div>
		<br>
		<div class='row'>
			<button onclick='vm.nowMainSelect.move({x:-1,y:-1})'>/_</button>
			<button onclick='vm.nowMainSelect.move({y:-1})'>\/</button>
			<button onclick='vm.nowMainSelect.move({x:1,y:-1})'>_\</button>
		</div>
		<br>
		<div id='cast'>
			<select v-model='spellId'>
				<option v-for="spell in spells" :value='spell.id'>{{spell.name}}</option>
			</select>
			<input  v-on:keyup.enter='nowMainSelect.cast(spellId)' v-show='spells[spellId]&&spells[spellId].input' id='spellInput' placeholder="Особые параметры заклинания">
			<button class='button-primary' v-on:click='nowMainSelect.cast(spellId)'>CAST</button>
		</div>
		<br>
		<button onclick='vm.nowMainSelect.remove()'>DELETE</button>
		<div v-if='nowMainSelect'>
			<input v-model='update' type="hidden">
			<healthbar :width='"100px"' :height='"30px"' :hp='nowMainSelect.stats.hp' :hp-max='nowMainSelect.stats.hpMax'></healthbar>
			<manabar :width='"100px"' :height='"30px"' :mp='nowMainSelect.stats.mp' :mp-max='nowMainSelect.stats.mpMax'></manabar>
		</div>
		<span>Текущий ход: {{step}}</span>
	</div>
	<script type="text/javascript" src='sys/js/main.js'></script>
</body>
</html>